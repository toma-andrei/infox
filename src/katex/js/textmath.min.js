/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/markdown-it-texmath@0.7.0/texmath.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";function texmath(e,t){const n=t&&t.delimiters||"dollars",a=t&&t.katexOptions||{throwOnError:!1};if(a.macros=t&&t.macros||a.macros,texmath.katex||(t&&"object"==typeof t.engine?texmath.katex=t.engine:"object"==typeof module?texmath.katex=require("katex"):texmath.katex={renderToString:()=>"No math renderer found."}),n in texmath.rules){for(const t of texmath.rules[n].inline)e.inline.ruler.before("escape",t.name,texmath.inline(t)),e.renderer.rules[t.name]=((e,n)=>t.tmpl.replace(/\$1/,texmath.render(e[n].content,!!t.displayMode,a)));for(const t of texmath.rules[n].block)e.block.ruler.before("fence",t.name,texmath.block(t)),e.renderer.rules[t.name]=((e,n)=>t.tmpl.replace(/\$2/,e[n].info).replace(/\$1/,texmath.render(e[n].content,!0,a)))}}texmath.inline=(e=>(function(t,n){const a=t.pos,o=t.src,s=o.startsWith(e.tag,e.rex.lastIndex=a)&&(!e.pre||e.pre(o,a))&&e.rex.exec(o),m=s&&e.rex.lastIndex-1;if(s&&(!e.post||e.post(o,m))){if(!n){const n=t.push(e.name,"math",0);n.content=s[1],n.markup=e.tag}t.pos=e.rex.lastIndex}return e.rex.lastIndex=0,!!s})),texmath.block=(e=>(function(t,n,a,o){texmath.inBlockquote(t.tokens);const s=t.bMarks[n]+t.tShift[n],m=t.src,l=m.startsWith(e.tag,e.rex.lastIndex=s)&&(!e.pre||e.pre(m,s))&&e.rex.exec(m),r=l&&e.rex.lastIndex-1;if(l&&(!e.post||e.post(m,r))){if(l[1].includes("\n")&&texmath.inBlockquote.level&&(l[1]=l[1].replace(/\n(\s*?>)+/gm,"\n")),!o){const n=t.push(e.name,"math",0);n.block=!0,n.content=l[1],n.info=l[l.length-1],n.markup=e.tag}for(let e=n,o=r;e<a;e++)if(o>=t.bMarks[e]&&o<=t.eMarks[e]){t.line=e+1;break}}return e.rex.lastIndex=0,!!l})),texmath.inBlockquote=function(e){if(e&&e.length){const t=e.length;texmath.inBlockquote.level="blockquote_open"===e[t-1].type?e[t-1].level+1:"blockquote_close"===e[t-1].type?e[t-1].level:texmath.inBlockquote.level}else texmath.inBlockquote.level=0},texmath.inBlockquote.level=0,texmath.render=function(e,t,n){let a;n.displayMode=t;try{a=texmath.katex.renderToString(e,n)}catch(t){a=e+": "+t.message.replace("<","&lt;")}return a},texmath.use=function(e){return texmath.katex=e,texmath},texmath.$_pre=((e,t)=>{const n=t>0&&e[t-1].charCodeAt(0);return!n||92!==n&&(n<48||n>57)}),texmath.$_post=((e,t)=>{const n=e[t+1]&&e[t+1].charCodeAt(0);return!n||n<48||n>57}),texmath.rules={brackets:{inline:[{name:"math_inline",rex:/\\\((.+?)\\\)/gy,tmpl:"<eq>$1</eq>",tag:"\\("}],block:[{name:"math_block_eqno",rex:/\\\[(((?!\\\]|\\\[)[\s\S])+?)\\\]\s*?\(([^)$\r\n]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"\\["},{name:"math_block",rex:/\\\[([\s\S]+?)\\\]/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"\\["}]},gitlab:{inline:[{name:"math_inline",rex:/\$`(.+?)`\$/gy,tmpl:"<eq>$1</eq>",tag:"$`"}],block:[{name:"math_block_eqno",rex:/`{3}math\s+?([^`]+?)\s+?`{3}\s*?\(([^)$\r\n]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"```math"},{name:"math_block",rex:/`{3}math\s+?([^`]+?)\s+?`{3}/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"```math"}]},julia:{inline:[{name:"math_inline",rex:/`{2}([^`]+?)`{2}/gy,tmpl:"<eq>$1</eq>",tag:"``"},{name:"math_inline",rex:/\$((?:\S?)|(?:\S.*?\S))\$/gy,tmpl:"<eq>$1</eq>",tag:"$",pre:texmath.$_pre,post:texmath.$_post}],block:[{name:"math_block_eqno",rex:/`{3}math\s+?([^`]+?)\s+?`{3}\s*?\(([^)$\r\n]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"```math"},{name:"math_block",rex:/`{3}math\s+?([^`]+?)\s+?`{3}/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"```math"}]},kramdown:{inline:[{name:"math_inline",rex:/\${2}(.+?)\${2}/gy,tmpl:"<eq>$1</eq>",tag:"$$"}],block:[{name:"math_block_eqno",rex:/\${2}([^$]+?)\${2}\s*?\(([^)\s]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"$$"},{name:"math_block",rex:/\${2}([^$]+?)\${2}/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"$$"}]},dollars:{inline:[{name:"math_inline_double",rex:/\${2}((?:\S)|(?:\S.*?\S))\${2}/gy,tmpl:"<section><eqn>$1</eqn></section>",tag:"$$",displayMode:!0,pre:texmath.$_pre,post:texmath.$_post},{name:"math_inline",rex:/\$((?:\S)|(?:\S.*?\S))\$/gy,tmpl:"<eq>$1</eq>",tag:"$",pre:texmath.$_pre,post:texmath.$_post}],block:[{name:"math_block_eqno",rex:/\${2}([^$]+?)\${2}\s*?\(([^)\s]+?)\)/gmy,tmpl:'<section class="eqno"><eqn>$1</eqn><span>($2)</span></section>',tag:"$$"},{name:"math_block",rex:/\${2}([^$]+?)\${2}/gmy,tmpl:"<section><eqn>$1</eqn></section>",tag:"$$"}]}},"object"==typeof module&&module.exports&&(module.exports=texmath);
//# sourceMappingURL=/sm/a4fb457d5d5c1b30701d6b60049554075db1c43f3643b0911bbb3d9375f907c9.map